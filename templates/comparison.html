<html>
    <head>
		<title>??? - Comparison Page</title>
        <script type="text/javascript" src="static/jquery.min.js"></script>
        <script type="text/javascript" src="static/bootstrap.min.js"></script>
        <link rel="stylesheet" href="static/bootstrap.min.css" />
        <link rel="stylesheet" href="static/bootstrap-grid.min.css" />
        <link rel="stylesheet" href="static/bootstrap-reboot.min.css" />
    </head>
    <body>
		<nav class="navbar navbar-dark bg-primary fixed-top">
		  <a class="navbar-brand" href="javascript:showDiv('conformance_file1')">conformance_file1</a>
		  <a class="navbar-brand" href="javascript:showDiv('conformance_file2')">conformance_file2</a>
		  <a class="navbar-brand" href="javascript:showDiv('conformance_plt3')">conformance_plt3</a>
		  <a class="navbar-brand" href="javascript:showDiv('conformance_plt4')">conformance_plt4</a>
		  <a class="navbar-brand" href="javascript:showDiv('spectrum_file')">spectrum_file</a>
		</nav>
		<iframe id="conformance_file1" src="#" style="width: 100%; height: 90%; display: none">
		</iframe><br />
		<iframe id="conformance_file2" src="#" style="width: 100%; height: 90%; display: none">
		</iframe><br />
		<iframe id="conformance_plt3" src="#" style="width: 100%; height: 90%; display: none">
		</iframe><br />
		<iframe id="conformance_plt4" src="#" style="width: 100%; height: 90%; display: none">
		</iframe><br />
		<iframe id="spectrum_file" src="#" style="width: 100%; height: 90%; display: none">
		</iframe><br />	
		<script type="text/javascript">
        var parseQueryString = function() {

            var str = window.location.search;
            var objURL = {};

            str.replace(
                new RegExp( "([^?=&]+)(=([^&]*))?", "g" ),
                function( $0, $1, $2, $3 ){
                    objURL[ $1 ] = $3;
                }
            );
            return objURL;
        };

			let hostname = window.location.hostname;
			let port = window.location.port;

			const urlParams = parseQueryString();
			let uuid1 = urlParams['uid1'];
			let uuid2 = urlParams['uid2'];

			function hideAllDivs() {
				document.getElementById("conformance_file1").style.display = "none";
				document.getElementById("conformance_file2").style.display = "none";
				document.getElementById("conformance_plt3").style.display = "none";
				document.getElementById("conformance_plt4").style.display = "none";
				document.getElementById("spectrum_file").style.display = "none";
			}
			
			function showDiv(divName) {
				hideAllDivs();
				document.getElementById(divName).style.display = "";
			}
			
			let targetUrl = "http://"+hostname+":"+port+"/visualizationsService?uuid1="+uuid1+"&uuid2="+uuid2;
			console.log(targetUrl);
			
			$.get(targetUrl, function(data) {
				document.getElementById("conformance_file1").src = data["conformance_file1"];
				document.getElementById("conformance_file2").src = data["conformance_file2"];
				document.getElementById("conformance_plt3").src = data["conformance_plt3"];
				document.getElementById("conformance_plt4").src = data["conformance_plt4"];
				document.getElementById("spectrum_file").src = data["spectrum_file"];
				showDiv("conformance_file1");
			});
		</script>
    </body>
</html>
